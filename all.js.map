{"version":3,"sources":["webpack://PSB/webpack/bootstrap","webpack://PSB/./node_modules/cmtt-likely/source/config.js","webpack://PSB/./node_modules/cmtt-likely/source/dom.js","webpack://PSB/./node_modules/cmtt-likely/source/utils.js","webpack://PSB/./src/js/lib/analytics.js","webpack://PSB/./node_modules/cmtt-likely/source/services/index.js","webpack://PSB/./src/config.js","webpack://PSB/./node_modules/cmtt-likely/source/storage.js","webpack://PSB/./src/js/lib/dom.js","webpack://PSB/./src/index.js","webpack://PSB/./src/js/special.js","webpack://PSB/./src/js/base.js","webpack://PSB/./src/js/data.js","webpack://PSB/./src/js/svg.js","webpack://PSB/./src/js/lib/share.js","webpack://PSB/./node_modules/cmtt-likely/source/index.js","webpack://PSB/./node_modules/cmtt-likely/source/widget.js","webpack://PSB/./node_modules/cmtt-likely/source/button.js","webpack://PSB/./node_modules/cmtt-likely/source/service.js","webpack://PSB/./node_modules/cmtt-likely/source/services/odnoklassniki.js","webpack://PSB/./node_modules/cmtt-likely/source/services/vk.js","webpack://PSB/./node_modules/cmtt-likely/source/services/facebook.js","webpack://PSB/./node_modules/cmtt-likely/source/services/twitter.js","webpack://PSB/./node_modules/cmtt-likely/source/services/gplus.js","webpack://PSB/./node_modules/cmtt-likely/source/services/pocket.js","webpack://PSB/./node_modules/cmtt-likely/source/services/telegram.js","webpack://PSB/./node_modules/cmtt-likely/source/services/whatsapp.js","webpack://PSB/./node_modules/cmtt-likely/source/services/viber.js","webpack://PSB/./node_modules/cmtt-likely/source/services/email.js","webpack://PSB/./node_modules/cmtt-likely/source/services/more.js","webpack://PSB/./node_modules/cmtt-likely/source/fetch.js","webpack://PSB/./node_modules/cmtt-likely/source/factory.js","webpack://PSB/./node_modules/heatmap.js/build/heatmap.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","secure","window","location","protocol","prefix","storageKey","breakpoint","config","div","document","createElement","gid","dom","wrapSVG","coords","createNode","html","innerHTML","children","getScript","url","script","head","type","src","appendChild","removeChild","getJSON","callback","encodeURIComponent","replace","find","selector","node","querySelector","findAll","querySelectorAll","isMobile","matchMedia","matches","openPopup","winId","width","height","left","Math","round","screen","top","options","open","bool","yes","no","utils","each","toArray","arrayLike","Array","slice","merge","result","arguments","length","arg","extend","target","subject","flexboxSupport","element","f","fw","e","style","display","className","getDataset","dataset","attribute","attributes","toUpperCase","n0","charAt","test","substr","bools","data","template","text","makeUrl","query","filter","push","join","set","frags","split","last","forEach","index","sendEvent","label","action","undefined","Config","analyticsCategory","dataLayer","event","data_description","sendPageView","post_details","section","tags","title","pathname","Service","svg","services","odnoklassniki","vkontakte","facebook","twitter","gplus","pocket","telegram","whatsapp","viber","email","more","service","svgi","listenedEvents","isAvailable","localStorage","setItem","removeItem","storage","getItem","item","JSON","parse","stringify","makeElement","tagName","classNames","toLowerCase","attr","_typeof","cname","classList","add","dataAttributes","cacheElements","obj","newObj","elements","el","assign","getSiblings","siblings","sibling","parentNode","firstChild","nextSibling","nodeType","removeChildren","parent","removeElement","htmlStringToNode","prepend","insertBefore","isElementInDom","Special","Analytics","_dom","CSS","params","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","saveParams","Data","css","loadStyles","then","init","BaseSpecial","_this2","msg","correct","code","pointerEvents","pageX","offsetLeft","pageY","offsetTop","heatmapInstance","addData","x","y","random","_this3","spans","remove","contains","tooltip","navigator","userAgent","addEventListener","makeAnswer","removeEventListener","innerText","clickHandler","h337","container","radius","textContent","click","console","log","placeholder","input","keyCodes","enter","body","addEventListeners","path","Promise","resolve","reject","link","rel","href","onload","onerror","eventName","defaultEventHandler","currentTarget","demo","Likely","initate","make","parentContainer","likelyContainer","social","button","likely","widget","update","defaults","initiate","widgets","counters","timeout","zeroes","wait","hash","Button","isSmartOrder","smart","countersLeft","buttons","number","reorder","savedServices","reverse","addButton","timer","setTimeout","appear","ready","counterUrl","forceUpdate","updateCounter","counter","clearTimeout","fetch","htmlSpan","LikelyButton","detectService","detectParams","initHtml","initCounter","classes","parseInt","isNaN","counterNumber","content","icon","fullClass","counterElement","toggle","parentElement","popupUrl","rememberClicked","twitterText","twitterUrl","window_url","addAdditionalParamsToUrl","popupWidth","popupHeight","parameters","delimeter","indexOf","serviceIndex","splice","factory","self","count","convertNumber","promise","promises","share","share_count","Factory","factories","listeners","argument","listener","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","context","HeatmapConfig","defaultRadius","defaultRenderer","defaultGradient","0.25","0.55","0.85","1","defaultMaxOpacity","defaultMinOpacity","defaultBlur","defaultXField","defaultYField","defaultValueField","plugins","Store","_coordinator","_data","_radi","_min","_max","_xField","_yField","_valueField","_cfgRadius","_organiseData","dataPoint","forceRender","radi","store","max","min","storedVal","setDataMax","setDataMin","_unOrganizeData","unorganizedData","_onExtremaChange","emit","dataArr","dataLen","organisedEntry","setData","dataPoints","pointsLen","_getInternalData","removeData","setCoordinator","coordinator","getData","Canvas2dRenderer","_getColorPalette","gradientConfig","gradient","paletteCanvas","paletteCtx","getContext","createLinearGradient","addColorStop","fillStyle","fillRect","getImageData","_getPointTemplate","blurFactor","tplCanvas","tplCtx","beginPath","arc","PI","fill","createRadialGradient","shadowCanvas","canvas","computed","_renderBoundaries","getComputedStyle","_width","_height","shadowCtx","ctx","cssText","position","_palette","_templates","_setStyles","renderPartial","_drawAlpha","_colorize","renderAll","_clear","renderData","xValues","keys","xValuesLen","xValue","yValues","yValuesLen","yValue","_prepareData","_updateGradient","updateConfig","setDimensions","clearRect","_blur","blur","backgroundColor","_opacity","opacity","_maxOpacity","maxOpacity","_minOpacity","minOpacity","_useGradientOpacity","useGradientOpacity","tpl","point","rectX","rectY","templateAlpha","globalAlpha","drawImage","maxWidth","maxHeight","img","imgData","len","palette","finalAlpha","alpha","offset","putImageData","getValueAt","abs","getDataURL","toDataURL","Renderer","rendererFn","Util","merged","argsLen","Heatmap","Coordinator","cStore","on","evtName","scope","_connect","renderer","_renderer","_store","_config","onExtremaChange","pluginToLoad","Error","plugin","apply","configure","repaint","register","pluginKey"],"mappings":"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","file":"all.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","/**\n * Configuration\n */\n\nvar secure = window.location.protocol === 'https:';\n\nmodule.exports = {\n    name: 'likely',\n    prefix: 'likely__',\n    secure: secure,\n    protocol: secure ? 'https:' : 'http:',\n    storageKey: 'likelyServices',\n    breakpoint: 680\n};","var config = require('./config');\n\nvar div = document.createElement('div'),\n    gid = 0;\n\nvar dom = module.exports = {\n    /**\n     * Wrap SVG coords from data object into SVG tag\n     *\n     * @param {String} coords\n     */\n    wrapSVG: function (coords) {\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" ' + 'viewBox=\"0 0 16 16\"><path d=\"M' + coords + 'z\"/></svg>';\n    },\n\n    /**\n     * Create node from HTML\n     *\n     * @param {String} html\n     */\n    createNode: function (html) {\n        div.innerHTML = html;\n\n        return div.children[0];\n    },\n\n    /**\n     * Load script\n     *\n     * @param {String} url\n     */\n    getScript: function (url) {\n        var script = document.createElement('script'),\n            head   = document.head;\n\n        script.type = 'text/javascript';\n        script.src  = url;\n\n        head.appendChild(script);\n        head.removeChild(script);\n    },\n\n    /**\n     * Get JSON\n     *\n     * @param {String} url\n     * @param {Function} callback\n     */\n    getJSON: function (url, callback) {\n        var name = encodeURIComponent('random_fun_' + (++gid));\n\n        url = url.replace(\n            /callback=(\\?)/,\n            'callback=' + name\n        );\n\n        window[name] = callback;\n\n        dom.getScript(url);\n    },\n\n    /**\n     * Find first node by selector\n     *\n     * @param {String} selector\n     * @param {Node} node\n     * @return {Node}\n     */\n    find: function (selector, node) {\n        return (node || document).querySelector(selector);\n    },\n\n    /**\n     * Find all nodes by selector\n     *\n     * @param {String} selector\n     * @param {Node} node\n     * @return {NodeList}\n     */\n    findAll: function (selector, node) {\n        return (node || document).querySelectorAll(selector);\n    },\n\n    /**\n     * Check mobile media query\n     */\n    isMobile: function() {\n        return !window.matchMedia('(min-width: ' + config.breakpoint + 'px)').matches;\n    },\n\n    /**\n     * Open the popup\n     *\n     * @param {String} url\n     * @param {String} winId\n     * @param {Number} width,\n     * @param {Number} height\n     */\n    openPopup: function (url, winId, width, height) {\n        var left = Math.round(screen.width / 2 - width / 2),\n            top  = 0;\n\n        if (screen.height > height) {\n            top = Math.round(screen.height / 3 - height / 2);\n        }\n\n        var options = 'left='    + left +\n                      ',top='    + top +\n                      ',width='  + width +\n                      ',height=' + height +\n                      ',personalbar=0,toolbar=0,scrollbars=1,resizable=1';\n\n        var win = window.open(url, winId, options);\n\n        // if (!win) {\n        //     location.href = url;\n        //     return location.href;\n        // }\n\n        // win.focus();\n\n        return win;\n    }\n};","var bool = {yes: true, no: false},\n    rUrl = /(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*/gi;\n\n/**\n * @internal\n */\nvar utils = {\n    /**\n     * Simple $.each, only for objects\n     *\n     * @param {Object} object\n     * @param {Function} callback\n     */\n    each: function (object, callback) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    },\n\n    /**\n     * Convert array-like object to array\n     *\n     * @param {Object} arrayLike\n     * @return {Array}\n     */\n    toArray: function (arrayLike) {\n        return Array.prototype.slice.call(arrayLike);\n    },\n\n    /**\n     * Merge given dictionaries (objects) into one object\n     *\n     * @param {Object} ...objects\n     * @return {Object}\n     */\n    merge: function () {\n        var result = {};\n\n        for (var i = 0; i < arguments.length; i ++) {\n            var arg = arguments[i];\n\n            if (arg) {\n                for (var key in arg) {\n                    result[key] = arg[key];\n                }\n            }\n        }\n\n        return result;\n    },\n\n    /**\n     * Extend one (target) object by other (subject)\n     *\n     * @param {Object} target\n     * @param {Object} subject\n     */\n    extend: function (target, subject) {\n        for (var key in subject) {\n            target[key] = subject[key];\n        }\n    },\n\n    /**\n     * Check new flexbox syntax support\n     */\n    flexboxSupport: function(element, name){\n        var d = document, f = 'flex', fw = '-webkit-'+f, e = d.createElement('b'), c;\n\n        try {\n            e.style.display = fw;\n            e.style.display = f;\n            c = (e.style.display == f || e.style.display == fw) ? f : 'no-'+f;\n        } catch(e) {\n            c = 'no-'+f;\n        }\n\n        element.className += ' ' + name + '--' + c;\n    },\n\n    /**\n     * Return node.dataset or plain object for IE 10without setters\n     * based on https://gist.github.com/brettz9/4093766#file_html5_dataset.js\n     *\n     * @param {Node} node\n     * @return {Object}\n     */\n    getDataset: function (node) {\n        if (typeof node.dataset === 'object') {\n            return node.dataset;\n        }\n\n        var i,\n            dataset = {},\n            attributes = node.attributes,\n            attribute,\n            attributeName;\n\n        var toUpperCase = function (n0) {\n            return n0.charAt(1).toUpperCase();\n        };\n\n        for (i = attributes.length - 1; i >= 0; i--) {\n            attribute = attributes[i];\n            if (attribute && attribute.name &&\n                (/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\n                    attributeName = attribute.name.substr(5).replace(/-./g, toUpperCase);\n                    dataset[attributeName] = attribute.value;\n                }\n        }\n\n        return dataset;\n    },\n\n    /**\n     * Convert \"yes\" and \"no\" to true and false.\n     *\n     * @param {Node} node\n     */\n    bools: function (node) {\n        var result = {},\n            data   = utils.getDataset(node);\n\n        for (var key in data) {\n            var value = data[key];\n\n            result[key] = bool[value] || value;\n        }\n\n        return result;\n    },\n\n    /**\n     * Map object keys in string to its values\n     *\n     * @param {String} text\n     * @param {Object} data\n     * @return {String}\n     */\n    template: function (text, data) {\n        return !text ? '' : text.replace(/\\{([^\\}]+)\\}/g, function (value, key) {\n            return key in data ? data[key] : value;\n        });\n    },\n\n    /**\n     * Map object keys in URL to its values\n     *\n     * @param {String} text\n     * @param {Object} data\n     * @return {String}\n     */\n    makeUrl: function (text, data) {\n        for (var key in data) {\n            data[key] = encodeURIComponent(data[key]);\n        }\n\n        return utils.template(text, data);\n    },\n\n    /**\n     * Create query string out of data\n     *\n     * @param {Object} data\n     * @return {String}\n     */\n    query: function (data) {\n        var filter = encodeURIComponent,\n            query  = [];\n\n        for (var key in data) {\n            if (typeof data[key] === 'object') continue;\n\n            query.push(filter(key) + '=' + filter(data[key]));\n        }\n\n        return query.join('&');\n    },\n\n    /**\n     * Set value in object using dot-notation\n     *\n     * @param {Object} object\n     * @param {String} key\n     * @param {Object} value\n     */\n    set: function (object, key, value) {\n        var frags = key.split('.'),\n            last  = null;\n\n        frags.forEach(function (key, index) {\n            if (typeof object[key] === 'undefined') {\n                object[key] = {};\n            }\n\n            if (index !== frags.length - 1) {\n                object = object[key];\n            }\n\n            last = key;\n        });\n\n        object[last] = value;\n    }\n};\n\nmodule.exports = utils;","import Config from './../../config';\n\nconst CONSOLE_STYLE = 'color: #E87E04';\n\n/**\n * Send analytics events via GTM\n * @param {String} label - event label\n * @param {String} action - event action (\"Click\" by default)\n */\nexport const sendEvent = (label, action = 'Click') => {\n    let value = `${Config.analyticsCategory} — ${label} — ${action}`;\n\n    if (!IS_PRODUCTION) {\n        console.log(`Analytics: %c${value}`, CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined && Config.analyticsCategory) {\n        window.dataLayer.push({\n            event: 'data_event',\n            data_description: value\n        });\n    }\n};\n\n/**\n * Send pageview event via GTM\n */\nexport const sendPageView = () => {\n    if (!IS_PRODUCTION) {\n        console.log('Analytics: %cPage — View', CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined) {\n        window.dataLayer.push({\n            event: 'Page — View',\n            post_details: {},\n            section: 'special',\n            tags: [],\n            title: document.title,\n            url: window.location.pathname\n        });\n    }\n};","/**\n * Social network services\n */\n\nvar Service = require('../service'),\n    utils   = require('../utils'),\n    svg     = require('../svg.json');\n\nvar services = {\n    odnoklassniki: require('./odnoklassniki'),\n    vkontakte:     require('./vk'),\n    facebook:      require('./facebook'),\n    twitter:       require('./twitter'),\n    gplus:         require('./gplus'),\n    pocket:        require('./pocket'),\n    telegram:      require('./telegram'),\n    whatsapp:      require('./whatsapp'),\n    viber:         require('./viber'),\n    email:         require('./email'),\n    more:          require('./more')\n};\n\nutils.each(services, function (service, key) {\n    Service(service);\n\n    service.svgi = svg[key];\n    service.name = key;\n});\n\nmodule.exports = services;","export default {\n  name: 'PSB', // уникальное имя спецпроекта. Оно же — название главного класса. Используется на странице, куда интегрируется спецпроект\n  analyticsCategory: 'PSB',\n  sendPageView: false, // отключаем, если спецпроект не на отдельной странице\n  listenedEvents: ['click', 'input'] // слушаем события (click, input, change, etc.). Обычно нужен только click\n};","var isAvailable = function() {\n\n    try {\n        window.localStorage.setItem('isStorageAvailable', 1);\n        window.localStorage.removeItem('isStorageAvailable');\n        return true;\n    } catch (e) {\n        return false;\n    }\n\n};\n\nvar storage = {\n\n    /**\n     * Get item from localStorage\n     * @param {String} key\n     */\n    getItem: function(key){\n\n        if (isAvailable()) {\n\n            var item = window.localStorage.getItem(key);\n\n            try {\n                JSON.parse(item);\n            } catch (e) {\n                return item;\n            }\n\n            return JSON.parse(item);\n\n        }\n\n    },\n\n    /**\n     * Save item in localStorage\n     * @param {String} key\n     * @param {String} value\n     */\n    setItem: function(key, value) {\n\n        value = (typeof value === 'string') ? value : JSON.stringify(value);\n\n        if (isAvailable()) {\n            window.localStorage.setItem(key, value);\n        }\n\n    },\n\n    /**\n     * Remove item from localStorage\n     * @param {String} key\n     */\n    removeItem: function(key) {\n\n        if (isAvailable()) {\n            window.localStorage.removeItem(key);\n        }\n\n    }\n\n};\n\nmodule.exports = storage;","/**\n * Make html element\n * @param {String} tagName\n * @param {Array|String} classNames - array of classnames or string for single classname\n * @param {Object} attributes - object with html attributes\n */\nexport const makeElement = (tagName, classNames = [], attributes = []) => {\n    tagName = tagName.toLowerCase();\n\n    let element = document.createElement(tagName);\n\n    if (classNames) {\n        if (typeof classNames === 'object') {\n            classNames.forEach(cname => {\n                element.classList.add(cname);\n            });\n        } else if (typeof classNames === 'string') {\n            element.classList.add(classNames);\n        }\n    }\n\n    for (let attr in attributes) {\n        if (attr === 'data') {\n            let dataAttributes = attributes[attr];\n\n            for (let attr in dataAttributes) {\n                element.dataset[attr] = dataAttributes[attr];\n            }\n        } else {\n            element[attr] = attributes[attr];\n        }\n    }\n\n    return element;\n};\n\n/**\n * Cache elements with [data-view] attribute and put them in given object\n * @param {Object} obj - object\n */\nexport const cacheElements = (obj, attr = 'view') => {\n    let newObj = {},\n        elements = document.querySelectorAll(`[data-${attr}]`);\n\n    Array.prototype.forEach.call(elements, el => {\n        let name = el.dataset[attr];\n        newObj[name] = el;\n    });\n\n    Object.assign(obj, newObj);\n};\n\n/**\n * Get all siblings of specified element, excluding this element\n * @param {Element} element\n */\nexport const getSiblings = (element) => {\n    let siblings = [],\n        sibling = element.parentNode.firstChild;\n\n    for (; sibling; sibling = sibling.nextSibling) {\n        if (sibling.nodeType !== 1 || sibling === element) continue;\n        siblings.push(sibling);\n    }\n\n    return siblings;\n};\n\n/**\n * Remove all children from element\n * @param {Element} parent\n */\nexport const removeChildren = (parent) => {\n    while (parent.firstChild) {\n        parent.removeChild(parent.firstChild);\n    }\n};\n\n/**\n * Remove specified element from its parent\n * @param {Element} element\n */\nexport const removeElement = (element) => {\n    if (element) {\n        element.parentNode.removeChild(element);\n    }\n};\n\n/**\n * Transform html string to node\n * @param {String} html\n */\nexport const htmlStringToNode = (html) => {\n    let el = document.createElement('div');\n\n    el.innerHTML = html;\n\n    return el.firstChild;\n};\n\n/**\n * Prepend source element before first child of target element\n * @param {Element} parent\n * @param {Element} el\n */\nexport const prepend = (parent, el) => {\n    parent.insertBefore(el, parent.firstChild);\n};\n\n/** Quick check if element is in DOM */\nexport const isElementInDom = (el) => {\n    return el.parentNode;\n};","/**\n * Entry point\n */\nimport Special from './js/special';\n\nmodule.exports.Special = Special; // Тут используется CommonJS модуль, чтобы можно было использовать название класса как глобальную переменную","import '../css/special.styl';\n\nimport BaseSpecial from './base';\nimport Data from './data';\nimport Svg from './svg';\nimport * as Share from './lib/share';\nimport * as Analytics from './lib/analytics';\nimport { makeElement } from './lib/dom';\n\nimport h337 from 'heatmap.js';\n\nconst CSS = {\n    main: 'specialContainer',\n};\n\nclass Special extends BaseSpecial {\n    constructor(params = {}) {\n        super();\n\n        Object.assign(this.params, params);\n        this.saveParams();\n\n        if (Data && params.data) {\n            Object.assign(Data, params.data);\n        }\n\n        if (this.params.css) {\n            this.loadStyles(this.params.css).then(() => this.init());\n        } else {\n          this.init();\n        }\n    }\n\n    makeAnswer(e) {\n      const msg = document.createElement('div');\n      msg.classList.add('psb-code__message');\n      if (e.target.dataset.correct) {\n        msg.innerHTML = '<span style=\"color: #76B041;\"><b>Верно!</b></span> Строчка разрешает давать кредит человеку младше 21 года. А это совсем не то, что вам нужно';\n      } else {\n        msg.innerHTML = '<span style=\"color: #FF5656;\"><b>Неверно!</b></span> Ошибочна та строчка, которая разрешает давать кредит человеку младше 21 года. А это совсем не то, что вам нужно';\n        const correctBlock = this.code.querySelector('[data-correct]');\n        correctBlock.classList.add('is-correct');\n      }\n      e.target.appendChild(msg);\n\n      this.code.style.pointerEvents = 'none';\n\n      this.coords.push([e.pageX - this.code.offsetLeft, e.pageY - this.code.offsetTop]);\n      this.coords.forEach((item) => {\n        this.heatmapInstance.addData({\n          x: item[0],\n          y: item[1],\n          value: Math.random() * (10 - 1) + 1\n        });\n      });\n    }\n\n    clickHandler(e) {\n      if (e.target.tagName.toLowerCase() === 'span') {\n        const spans = document.querySelectorAll('.js-code > pre > span');\n        [].slice.call(spans).forEach(item => {\n          item.classList.remove('is-active');\n          item.contains(this.tooltip) ? item.removeChild(this.tooltip): '';\n        });\n        e.target.classList.add('is-active');\n\n        // e.target.classList.add('is-answered');\n\n        if (/Mobi|Android/i.test(navigator.userAgent)) {\n          e.target.appendChild(this.tooltip);\n\n          this.tooltip.addEventListener('click', this.x = () => {\n\n            this.makeAnswer(e);\n            e.target.removeChild(this.tooltip);\n\n            this.tooltip.removeEventListener('click', this.x);\n          });\n\n          return;\n        } else {\n          this.makeAnswer(e);\n        }\n      }\n    }\n\n    init() {\n      this.tooltip = document.createElement('div');\n      this.tooltip.classList.add('psb-code__tooltip');\n      this.tooltip.innerText = 'Подтвердить';\n\n      this.code = document.querySelector('.js-code');\n      this.code.addEventListener('click', this.clickHandler.bind(this));\n\n      this.heatmapInstance = h337.create({\n        container: document.querySelector('.js-code'),\n        radius: 60\n      });\n\n      this.coords = [\n        [45,65], [168,21], [141,29], [391, 255], [330,241], [325, 240], [785, 147], [66,24], [322,376], [275,380],\n        [323,381], [203,618], [213,621], [154,626], [201,626], [173,626], [258,611], [163,613], [636, 376],\n        [216,619], [208,623], [205,632], [217,623], [205,618], [214,622], [207,626]\n      ];\n\n      // this.code.addEventListener('click', (e) => {\n      //   console.log(e.pageX - this.code.offsetLeft, e.pageY - this.code.offsetTop);\n      //   heatmapInstance.addData({\n      //     x: e.pageX - this.code.offsetLeft,\n      //     y: e.pageY - this.code.offsetTop,\n      //     value: 1\n      //   });\n      // });\n        // /** Демонстрация */\n        // this.container.classList.add(CSS.main);\n        // this.container.textContent = Data.title;\n        // this.container.innerHTML += Svg.demo;\n        // this.container.appendChild(this.demoButton());\n        // this.container.appendChild(this.demoInput());\n        //\n        // Share.make(this.container, this.params.share);\n    }\n\n    /**\n     * Код ниже не нужен, просто пара примеров\n     */\n\n    /**\n     * Клики слушаются чаще всего. Просто добавляем атрибут data-click с названием функции-обработчика\n     */\n    demoButton() {\n        return makeElement('button', CSS.main + '__button', {\n            type: 'button',\n            textContent: 'Кнопка',\n            data: {\n                click: 'demoClickHandler'\n            }\n        });\n    }\n\n    demoClickHandler(el, event) {\n        console.log('Click on element', el);\n\n        /**\n         * Так отправляются события в аналитику, но обычно они прописываются в конце,\n         * когда понятно, какие вообще данные будут полезны\n         */\n        Analytics.sendEvent('Button', 'Click');\n    }\n\n    /**\n     * Инпуты реже, но тут та же логика — атрибут data-input.\n     * По идее такое работает со всеми событиями, но я не проверял.\n     * Для keydown лучше писать свой listener\n     */\n    demoInput() {\n        return makeElement('input', CSS.main + '__input', {\n            type: 'text',\n            placeholder: 'Поле ввода',\n            data: {\n                input: 'demoInputWatcher'\n            }\n        });\n    }\n\n    demoInputWatcher(el, event) {\n        console.log('Input value:', el.value);\n    }\n}\n\nexport default Special;","import Config from './../config';\nimport * as Analytics from './lib/analytics';\n\n/**\n * Base special constructor with common methods\n */\nclass BaseSpecial {\n\n    constructor() {\n        this.keyCodes = {\n            enter: 13\n        };\n        this.params = {\n            container: document.body\n        };\n\n        if (Config.sendPageView) {\n            Analytics.sendPageView();\n        }\n    }\n\n    /**\n     * Save custom params\n     * @param {Object} params - params object with custom values\n     */\n    saveParams() {\n        Object.assign(this.params, Config);\n        this.container = this.params.container;\n\n        this.addEventListeners();\n    }\n\n    /**\n     * Load css file\n     * @param {String} path\n     */\n    loadStyles(path) {\n        return new Promise((resolve, reject) => {\n            let link = document.createElement('link');\n\n            link.rel = 'stylesheet';\n            link.href = path;\n\n            link.onload = () => resolve();\n            link.onerror = () => reject();\n\n            document.body.appendChild(link);\n        });\n    }\n\n    /**\n     * Add event listeners to document\n     */\n    addEventListeners() {\n        this.params.listenedEvents.forEach(eventName => {\n            this.container.addEventListener(eventName, event => this.defaultEventHandler(event, eventName));\n        });\n    }\n\n    /**\n     * Default events handler\n     * @param {Object} event\n     * @param {String} eventName\n     */\n    defaultEventHandler(event, eventName) {\n        let target = event.target;\n        let action;\n\n        while (target.parentNode && target !== event.currentTarget) {\n            action = target.dataset[eventName];\n\n            /** Send all links clicks to analytics */\n            if (eventName === 'click' && target.tagName.toLowerCase() === 'a') {\n                Analytics.sendEvent(target.href);\n            }\n\n            if (action) break;\n            target = target.parentNode;\n        }\n\n        action = target.dataset[eventName];\n\n        if (action && this[action]) {\n            this[action](event.target, event);\n        }\n    }\n\n}\n\nexport default BaseSpecial;","/**\n * Все текстовые значения рекомендуется хранить здесь\n */\nexport default {\n    title: 'Название спецпроекта'\n};","/**\n * Все svg-иконки рекомендуется хранить здесь,\n * предварительно прогнав их через https://jakearchibald.github.io/svgomg/\n */\nexport default {\n    demo: '<svg width=\"19\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.675 1.282c-.306-.127-.567-.075-.783.156L15.44 2.881a8.682 8.682 0 0 0-2.734-1.75A8.427 8.427 0 0 0 9.524.51a8.352 8.352 0 0 0-3.333.681 8.66 8.66 0 0 0-2.74 1.834 8.67 8.67 0 0 0-1.833 2.74 8.35 8.35 0 0 0-.682 3.332c0 1.162.227 2.273.682 3.332a8.673 8.673 0 0 0 1.834 2.739 8.672 8.672 0 0 0 2.74 1.833 8.352 8.352 0 0 0 3.332.683c1.281 0 2.5-.27 3.656-.811a8.383 8.383 0 0 0 2.951-2.287.364.364 0 0 0 .084-.251.309.309 0 0 0-.106-.23l-1.531-1.542a.43.43 0 0 0-.28-.101c-.12.015-.205.06-.257.135a5.61 5.61 0 0 1-2.002 1.643 5.64 5.64 0 0 1-2.515.581 5.57 5.57 0 0 1-2.22-.453 5.752 5.752 0 0 1-1.828-1.224 5.777 5.777 0 0 1-1.224-1.828 5.568 5.568 0 0 1-.453-2.22c0-.775.151-1.514.453-2.219A5.756 5.756 0 0 1 5.476 5.05a5.76 5.76 0 0 1 1.828-1.224 5.57 5.57 0 0 1 2.22-.453c1.498 0 2.799.51 3.902 1.532l-1.544 1.543c-.23.223-.283.48-.156.77.127.299.347.448.66.448h5.01a.69.69 0 0 0 .503-.212.688.688 0 0 0 .211-.503V1.94c0-.312-.144-.532-.435-.66z\" fill=\"#909090\" fill-rule=\"evenodd\"/></svg>'\n};","import Likely from 'cmtt-likely';\n\nimport { makeElement } from './dom';\nimport * as Analytics from './analytics';\n\nconst CSS = {\n    likely: 'likely',\n    likelyCustom: 'likely--custom'\n};\n\nexport const init = () => {\n    Likely.initate();\n};\n\n/**\n * Make likely buttons and append to specified element\n * @param {Element} parentContainer - likely container will be placed here\n * @param {Object} set - object with optional params (title, url, twitter)\n */\nexport const make = (parentContainer, set = {}) => {\n    let likelyContainer = makeElement('div', [CSS.likely, CSS.likelyCustom]);\n    let socials = ['facebook', 'vkontakte', 'twitter'];\n\n    socials.forEach(social => {\n        let button = makeElement('div', social);\n\n        if (social === 'facebook') button.innerHTML = 'Поделиться';\n\n        button.addEventListener('click', () => {\n            Analytics.sendEvent(`Share ${social}`);\n        });\n\n        likelyContainer.appendChild(button);\n    });\n\n    parentContainer.appendChild(likelyContainer);\n\n    if (set.url) likelyContainer.dataset.url = set.url;\n    if (set.twitter) likelyContainer.dataset.twitter = set.twitter;\n    if (set.title) likelyContainer.dataset.title = set.title;\n\n    init();\n};","// 'use strict';\n\nvar Likely = require('./widget'),\n    config = require('./config'),\n    utils = require('./utils'),\n    dom = require('./dom');\n\n/**\n * @param {Node} node\n * @param {Object} options\n */\nvar likely = function (node, options) {\n    options = options || {};\n\n    var widget = node[config.name];\n\n    if (widget) {\n        widget.update(options);\n    }\n    else {\n        node[config.name] = new Likely(node, utils.merge(\n            {}, likely.defaults,\n            options, utils.bools(node)\n        ));\n    }\n\n    return widget;\n};\n\n/**\n * Initiate Likely buttons on load\n */\nlikely.initiate = likely.initate = function () {\n    var widgets = dom.findAll('.' + config.name);\n\n    utils.toArray(widgets).forEach(likely);\n};\n\n/**\n * Defaults options for likely\n */\nlikely.defaults = {\n    counters: true,\n    timeout:  1e3,\n    zeroes:   false,\n    title:    document.title,\n    wait:     0.5e3,\n    url:      window.location.href.replace(window.location.hash, '')\n};\n\nmodule.exports = likely;","var Button = require('./button');\n\nvar services = require('./services'),\n    config   = require('./config'),\n    utils = require('./utils'),\n    dom = require('./dom'),\n    storage = require('./storage');\n\n/**\n * Main widget view\n *\n * @param {Node} container\n * @param {Object} options\n */\nfunction Likely(container, options) {\n    this.isSmartOrder = container.dataset.smart !== undefined ? true : false;\n    this.container = container;\n    this.options   = options;\n\n    this.countersLeft = 0;\n    this.buttons      = [];\n    this.number       = 0;\n\n    this.init();\n}\n\nLikely.prototype = {\n\n    /**\n     * Change buttons order, if previous clicks were saved\n     * @param {Array} children\n     */\n    reorder: function (children) {\n        var savedServices = storage.getItem(config.storageKey);\n\n        if (savedServices) {\n            savedServices.reverse();\n\n            savedServices.forEach(function (service) {\n\n                var button = dom.find('.' + service);\n\n                if (button) {\n                    button.parentNode.insertBefore(button, button.parentNode.firstChild);\n                }\n\n            });\n        }\n    },\n\n    /**\n     * Initiate the social buttons widget\n     */\n    init: function () {\n\n        var buttons = utils.toArray(this.container.children);\n\n        if (dom.isMobile() && this.isSmartOrder) {\n            this.reorder(buttons);\n        }\n\n        buttons.forEach(this.addButton.bind(this));\n\n        if (this.options.counters) {\n            this.timer   = setTimeout(this.appear.bind(this), this.options.wait);\n            this.timeout = setTimeout(this.ready.bind(this),  this.options.timeout);\n        }\n        else {\n            this.appear();\n        }\n\n        utils.flexboxSupport(this.container, config.name);\n    },\n\n    /**\n     * Add a button\n     *\n     * @param {Node} node\n     */\n    addButton: function (node) {\n        var button = new Button(node, this, this.options);\n\n        this.buttons.push(button);\n\n        if (button.options.counterUrl) {\n            this.countersLeft++;\n        }\n    },\n\n    /**\n     * Update the timer with URL\n     *\n     * @param {Object} options\n     */\n    update: function (options) {\n        if (\n            options.forceUpdate ||\n            options.url !== this.options.url\n        ) {\n            this.countersLeft = this.buttons.length;\n            this.number = 0;\n\n            this.buttons.forEach(function (button) {\n                button.update(options);\n            });\n        }\n    },\n\n    /**\n     * Update counter\n     *\n     * @param {String} service\n     * @param {Number} counter\n     */\n    updateCounter: function (service, counter) {\n        if (counter) {\n            this.number += counter;\n        }\n\n        this.countersLeft--;\n\n        if (this.countersLeft === 0) {\n            this.appear();\n            this.ready();\n        }\n    },\n\n    /**\n     * Show the buttons with smooth animation\n     */\n    appear: function () {\n        this.container.classList.add(config.name + '--visible');\n    },\n\n    /**\n     * Get. Set. Ready.\n     */\n    ready: function () {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n\n            this.container.classList.add(config.name + '--ready');\n        }\n    }\n};\n\nmodule.exports = Likely;","var services = require('./services'),\n    config = require('./config'),\n    fetch = require('./fetch'),\n    utils = require('./utils'),\n    dom = require('./dom'),\n    storage = require('./storage');\n\nvar htmlSpan = '<span class=\"{className}\">{content}</span>';\n\n/**\n * Separate social link widget\n *\n * @param {Node} widget\n * @param {Likely} likely\n * @param {Object} options\n */\nfunction LikelyButton (widget, likely, options) {\n    this.widget  = widget;\n    this.likely  = likely;\n    this.options = utils.merge(options);\n\n    this.init();\n}\n\nLikelyButton.prototype = {\n    /**\n     * Initiate the button\n     */\n    init: function () {\n        this.detectService();\n        this.detectParams();\n\n        if (this.service) {\n            this.initHtml();\n\n            setTimeout(this.initCounter.bind(this), 0);\n        }\n    },\n\n    /**\n     * Update the counter\n     *\n     * @param {Object} options\n     */\n    update: function (options) {\n        var className = '.' + config.prefix + 'counter';\n            counters  = dom.findAll(className, this.widget);\n\n        utils.extend(this.options, utils.merge({forceUpdate: false}, options));\n        utils.toArray(counters).forEach(function (node) {\n            node.parentNode.removeChild(node);\n        });\n\n        this.initCounter();\n    },\n\n    /**\n     * Get the config.name of service and its options\n     */\n    detectService: function () {\n        var widget  = this.widget,\n            service = utils.getDataset(widget).service;\n\n        if (!service) {\n            var classes = widget.className.split(' ');\n\n            for (var i = 0; i < classes.length; i++) {\n                if (classes[i] in services) break;\n            }\n\n            service = classes[i];\n        }\n\n        if (service) {\n            this.service = service;\n\n            utils.extend(this.options, services[service]);\n        }\n    },\n\n    /**\n     * Merge params from data-* attributes into options hash map\n     */\n    detectParams: function () {\n        var options = this.options,\n            data    = utils.getDataset(this.widget);\n\n        if (data.counter) {\n            var counter = parseInt(data.counter, 10);\n\n            if (isNaN(counter)) {\n                options.counterUrl = data.counter;\n            }\n            else {\n                options.counterNumber = counter;\n            }\n        }\n\n        options.title = data.title || options.title;\n        options.url   = data.url   || options.url;\n    },\n\n    /**\n     * Inititate button's HTML\n     */\n    initHtml: function () {\n        var options = this.options,\n            widget  = this.widget,\n            text    = widget.innerHTML;\n\n        widget.addEventListener('click', this.click.bind(this));\n        widget.classList.remove(this.service);\n        widget.className += (' ' + this.className('widget'));\n\n        var button = utils.template(htmlSpan, {\n            className: this.className('button'),\n            content:   text\n        });\n\n        var icon = utils.template(htmlSpan, {\n            className: this.className('icon'),\n            content:   dom.wrapSVG(options.svgi)\n        });\n\n        widget.innerHTML = icon + button;\n    },\n\n    /**\n     * Fetch or get cached counter value and update the counter\n     */\n    initCounter: function () {\n        var options = this.options;\n\n        if (options.counters && options.counterNumber) {\n            this.updateCounter(options.counterNumber);\n        }\n        else if (options.counterUrl) {\n            fetch(\n                this.service,\n                options.url,\n                options\n            )(this.updateCounter.bind(this));\n        }\n    },\n\n    /**\n     * @param {String} className\n     * @return {String}\n     */\n    className: function (className) {\n        var fullClass = config.prefix + className;\n\n        return fullClass + ' ' + fullClass + '--' + this.service;\n    },\n\n    /**\n     * Update counter\n     *\n     * @param {String} e\n     */\n    updateCounter: function (counter) {\n        counter = parseInt(counter, 10) || 0;\n\n        var counterElement = dom.find('.' + config.name + '__counter', this.widget);\n\n        if (counterElement) {\n            counterElement.parentNode.removeChild(counterElement);\n        }\n\n        var options = {\n            className: this.className('counter'),\n            content:   counter\n        };\n\n        if (!counter && !this.options.zeroes) {\n            options.className += ' ' + config.prefix + 'counter--empty';\n            options.content = '';\n        }\n\n        this.widget.appendChild(\n            dom.createNode(utils.template(htmlSpan, options))\n        );\n\n        this.likely.updateCounter(this.service, counter);\n    },\n\n    /**\n     * Click event listener\n     */\n    click: function () {\n        var options = this.options;\n\n        if ( this.service == 'more' ){\n\n            this.widget.classList.toggle('active');\n            this.widget.parentElement.classList.toggle(this.options.className);\n\n        } else if (this.service == 'email'){\n\n            var url = utils.makeUrl(options.popupUrl, {\n                url: options.url,\n                title: options.title\n            });\n\n            window.location = url;\n\n            this.rememberClicked(this.service);\n\n        } else {\n\n            if (options.click.call(this)) {\n\n                var twitterText = this.likely.container.dataset.twitter,\n                    twitterUrl = this.likely.container.dataset.twitterUrl;\n\n                var window_url = utils.makeUrl(options.popupUrl, {\n                    url:   (this.service === 'twitter' && twitterUrl !== '' && twitterUrl !== undefined) ? twitterUrl : options.url,\n                    title: (this.service === 'twitter' && twitterText !== '' && twitterText !== undefined) ? twitterText : options.title\n                });\n\n                dom.openPopup(\n                    this.addAdditionalParamsToUrl(window_url),\n                    config.prefix + this.service,\n                    options.popupWidth,\n                    options.popupHeight\n                );\n\n                this.rememberClicked(this.service);\n            }\n\n        }\n\n        return false;\n    },\n\n    /**\n     * Append service data to URL\n     *\n     * @param {String} url\n     */\n    addAdditionalParamsToUrl: function (url) {\n        var parameters = utils.query(utils.merge(\n                this.widget.dataset,\n                this.options.data\n            )),\n            delimeter = url.indexOf('?') === -1 ? '?' : '&';\n\n        return (parameters === '') ? url : (url + delimeter + parameters);\n    },\n\n    /**\n     * Remember last clicked button and save to storage\n     */\n    rememberClicked: function (service) {\n        var services = storage.getItem(config.storageKey) || [],\n            serviceIndex = services.indexOf(service);\n\n        if (serviceIndex !== -1) {\n            services.splice(serviceIndex, 1);\n        }\n\n        services.splice(0, 0, service);\n\n        storage.setItem(config.storageKey, services);\n    }\n};\n\nmodule.exports = LikelyButton;","var dom = require('./dom');\n\n/**\n * @param {String} url\n * @param {Function} factory\n */\nvar counter = function (url, factory) {\n    var self = this;\n    \n    dom.getJSON(url, function (count) {\n        try {\n            if (typeof self.convertNumber === 'function') {\n                count = self.convertNumber(count);\n            } \n            \n            factory(count);\n        } \n        catch (e) {}\n    });\n};\n\n/**\n * @param {Object} options\n */\nmodule.exports = function (options) {\n    options.counter = options.counter || counter;\n    options.click   = options.click   || function () { return true; };\n};","/**\n * Odnoklassniki service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar odnoklassniki = {\n    counterUrl: config.secure \n        ? undefined \n        : 'http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}',\n    counter: function (url, promise) {\n        this.promises.push(promise);\n        \n        dom.getScript(utils.makeUrl(url, {\n            index: this.promises.length - 1\n        }));\n    },\n    promises: [],\n    popupUrl: 'http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}',\n    popupWidth: 640,\n    popupHeight: 400\n};\n\nutils.set(window, 'ODKL.updateCount', function (index, counter) {\n    odnoklassniki.promises[index](counter);\n});\n\nmodule.exports = odnoklassniki;","/**\n * Vkontakte service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar vkontakte = {\n    counterUrl: 'https://vk.com/share.php?act=count&url={url}&index={index}',\n    counter: function (url, promise) {\n        this.promises.push(promise);\n        \n        dom.getScript(utils.makeUrl(url, {\n            index: this.promises.length - 1\n        }));\n    },\n    promises: [],\n    popupUrl: config.protocol + '//vk.com/share.php?url={url}&title={title}',\n    popupWidth: 550,\n    popupHeight: 330\n};\n\nutils.set(window, 'VK.Share.count', function (index, count) {\n    vkontakte.promises[index](count);\n});\n\nmodule.exports = vkontakte;\n","/**\n * Facebook service provider\n */\n\nmodule.exports = {\n    counterUrl: 'https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?',\n    convertNumber: function (counter) {\n        return counter.share.share_count;\n    },\n    popupUrl: 'https://www.facebook.com/sharer/sharer.php?u={url}',\n    popupWidth: 600,\n    popupHeight: 500\n};","/**\n * Twitter service provider\n */\n\nvar config = require('../config');\n\nvar twitter = {\n    popupUrl: config.protocol + '//twitter.com/intent/tweet?url={url}&text={title}',\n    popupWidth: 600,\n    popupHeight: 450,\n    click: function () {\n        if (!/[\\.\\?:\\-–—]\\s*$/.test(this.options.title)) {\n            this.options.title += ':';\n        }\n\n        return true;\n    }\n};\n\nmodule.exports = twitter;\n","/**\n * Google+ service provider\n */\n\nvar config = require('../config'),\n    utils  = require('../utils'),\n    dom    = require('../dom');\n\nvar gplus = {\n    gid: 0,\n    promises: {},\n    popupUrl: 'https://plus.google.com/share?url={url}',\n    popupWidth: 700,\n    popupHeight: 500\n};\n\nmodule.exports = gplus;","/**\n * Pocket service provider\n */\n\nvar config = require('../config');\n\nvar pocket = {\n    popupUrl: config.protocol + '//getpocket.com/save?url={url}&format=json&callback=?',\n    popupWidth: 600,\n    popupHeight: 300\n};\n\nmodule.exports = pocket;","/**\n * Telegram service provider\n */\n\nmodule.exports = {\n    popupUrl: 'tg://msg?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * WhatsApp service provider\n */\n\nmodule.exports = {\n    popupUrl: 'whatsapp://send?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * Viber service provider\n */\n\nmodule.exports = {\n    popupUrl: 'viber://forward?text={title}%0A{url}',\n    popupWidth: 600,\n    popupHeight: 450\n};","/**\n * E-mail service provider\n */\n\nvar config = require('../config');\n\nvar email = {\n    popupUrl: 'mailto:?subject={title}&body={url}',\n    popupWidth: 0,\n    popupHeight: 0\n};\n\nmodule.exports = email;","var config = require('../config');\n\nmodule.exports = {\n\tparent: config.name,\n    className: config.name + '--expanded'\n};","var services = require('./services'),\n    Factory  = require('./factory'),\n    utils    = require('./utils'),\n    dom      = require('./dom');\n\nvar factories = {};\n\n/**\n * Fetch data\n *\n * @param {String} service\n * @param {String} url\n * @param {Object} options\n * @return {Promise}\n */\nmodule.exports = function (service, url, options) {\n    if (!factories[service]) {\n        factories[service] = {};\n    }\n\n    var counters = factories[service],\n        counter  = counters[url];\n\n    if (!options.forceUpdate && counter) {\n        return counter;\n    }\n\n    counter = Factory();\n\n    var href = utils.makeUrl(options.counterUrl, {\n        url: url\n    });\n\n    services[service].counter(href, counter, url);\n\n    counters[url] = counter;\n\n    return counters[url];\n};","/**\n * Factory function\n * \n * This function returns function with following API:\n * \n * - if passed argument is callback, then this callback would be callled\n *   if the value was changed\n * - if passed argument is anything but undefined or function, then this \n *   function behaves like setter\n * - if argument isn't provided, then return value stored in closure\n * \n * @param {Object} value\n * @return {Function}\n */\nmodule.exports = function (value) {\n    var listeners = [];\n    \n    return function (argument) {\n        var type = typeof argument;\n        \n        if (type == 'undefined') {\n            return value;\n        }\n        else if (type == 'function') {\n            listeners.push(argument);\n        }\n        else {\n            value = argument;\n            \n            listeners.forEach(function (listener) {\n                listener(argument);\n            });\n        }\n    };\n};","/*\n * heatmap.js v2.0.5 | JavaScript Heatmap Library\n *\n * Copyright 2008-2016 Patrick Wied <heatmapjs@patrick-wied.at> - All rights reserved.\n * Dual licensed under MIT and Beerware license \n *\n * :: 2016-09-05 01:16\n */\n;(function (name, context, factory) {\n\n  // Supports UMD. AMD, CommonJS/Node.js and browser context\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else {\n    context[name] = factory();\n  }\n\n})(\"h337\", this, function () {\n\n// Heatmap Config stores default values and will be merged with instance config\nvar HeatmapConfig = {\n  defaultRadius: 40,\n  defaultRenderer: 'canvas2d',\n  defaultGradient: { 0.25: \"rgb(0,0,255)\", 0.55: \"rgb(0,255,0)\", 0.85: \"yellow\", 1.0: \"rgb(255,0,0)\"},\n  defaultMaxOpacity: 1,\n  defaultMinOpacity: 0,\n  defaultBlur: .85,\n  defaultXField: 'x',\n  defaultYField: 'y',\n  defaultValueField: 'value', \n  plugins: {}\n};\nvar Store = (function StoreClosure() {\n\n  var Store = function Store(config) {\n    this._coordinator = {};\n    this._data = [];\n    this._radi = [];\n    this._min = 10;\n    this._max = 1;\n    this._xField = config['xField'] || config.defaultXField;\n    this._yField = config['yField'] || config.defaultYField;\n    this._valueField = config['valueField'] || config.defaultValueField;\n\n    if (config[\"radius\"]) {\n      this._cfgRadius = config[\"radius\"];\n    }\n  };\n\n  var defaultRadius = HeatmapConfig.defaultRadius;\n\n  Store.prototype = {\n    // when forceRender = false -> called from setData, omits renderall event\n    _organiseData: function(dataPoint, forceRender) {\n        var x = dataPoint[this._xField];\n        var y = dataPoint[this._yField];\n        var radi = this._radi;\n        var store = this._data;\n        var max = this._max;\n        var min = this._min;\n        var value = dataPoint[this._valueField] || 1;\n        var radius = dataPoint.radius || this._cfgRadius || defaultRadius;\n\n        if (!store[x]) {\n          store[x] = [];\n          radi[x] = [];\n        }\n\n        if (!store[x][y]) {\n          store[x][y] = value;\n          radi[x][y] = radius;\n        } else {\n          store[x][y] += value;\n        }\n        var storedVal = store[x][y];\n\n        if (storedVal > max) {\n          if (!forceRender) {\n            this._max = storedVal;\n          } else {\n            this.setDataMax(storedVal);\n          }\n          return false;\n        } else if (storedVal < min) {\n          if (!forceRender) {\n            this._min = storedVal;\n          } else {\n            this.setDataMin(storedVal);\n          }\n          return false;\n        } else {\n          return { \n            x: x, \n            y: y,\n            value: value, \n            radius: radius,\n            min: min,\n            max: max \n          };\n        }\n    },\n    _unOrganizeData: function() {\n      var unorganizedData = [];\n      var data = this._data;\n      var radi = this._radi;\n\n      for (var x in data) {\n        for (var y in data[x]) {\n\n          unorganizedData.push({\n            x: x,\n            y: y,\n            radius: radi[x][y],\n            value: data[x][y]\n          });\n\n        }\n      }\n      return {\n        min: this._min,\n        max: this._max,\n        data: unorganizedData\n      };\n    },\n    _onExtremaChange: function() {\n      this._coordinator.emit('extremachange', {\n        min: this._min,\n        max: this._max\n      });\n    },\n    addData: function() {\n      if (arguments[0].length > 0) {\n        var dataArr = arguments[0];\n        var dataLen = dataArr.length;\n        while (dataLen--) {\n          this.addData.call(this, dataArr[dataLen]);\n        }\n      } else {\n        // add to store  \n        var organisedEntry = this._organiseData(arguments[0], true);\n        if (organisedEntry) {\n          // if it's the first datapoint initialize the extremas with it\n          if (this._data.length === 0) {\n            this._min = this._max = organisedEntry.value;\n          }\n          this._coordinator.emit('renderpartial', {\n            min: this._min,\n            max: this._max,\n            data: [organisedEntry]\n          });\n        }\n      }\n      return this;\n    },\n    setData: function(data) {\n      var dataPoints = data.data;\n      var pointsLen = dataPoints.length;\n\n\n      // reset data arrays\n      this._data = [];\n      this._radi = [];\n\n      for(var i = 0; i < pointsLen; i++) {\n        this._organiseData(dataPoints[i], false);\n      }\n      this._max = data.max;\n      this._min = data.min || 0;\n      \n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    removeData: function() {\n      // TODO: implement\n    },\n    setDataMax: function(max) {\n      this._max = max;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setDataMin: function(min) {\n      this._min = min;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setCoordinator: function(coordinator) {\n      this._coordinator = coordinator;\n    },\n    _getInternalData: function() {\n      return { \n        max: this._max,\n        min: this._min, \n        data: this._data,\n        radi: this._radi \n      };\n    },\n    getData: function() {\n      return this._unOrganizeData();\n    }/*,\n\n      TODO: rethink.\n\n    getValueAt: function(point) {\n      var value;\n      var radius = 100;\n      var x = point.x;\n      var y = point.y;\n      var data = this._data;\n\n      if (data[x] && data[x][y]) {\n        return data[x][y];\n      } else {\n        var values = [];\n        // radial search for datapoints based on default radius\n        for(var distance = 1; distance < radius; distance++) {\n          var neighbors = distance * 2 +1;\n          var startX = x - distance;\n          var startY = y - distance;\n\n          for(var i = 0; i < neighbors; i++) {\n            for (var o = 0; o < neighbors; o++) {\n              if ((i == 0 || i == neighbors-1) || (o == 0 || o == neighbors-1)) {\n                if (data[startY+i] && data[startY+i][startX+o]) {\n                  values.push(data[startY+i][startX+o]);\n                }\n              } else {\n                continue;\n              } \n            }\n          }\n        }\n        if (values.length > 0) {\n          return Math.max.apply(Math, values);\n        }\n      }\n      return false;\n    }*/\n  };\n\n\n  return Store;\n})();\n\nvar Canvas2dRenderer = (function Canvas2dRendererClosure() {\n\n  var _getColorPalette = function(config) {\n    var gradientConfig = config.gradient || config.defaultGradient;\n    var paletteCanvas = document.createElement('canvas');\n    var paletteCtx = paletteCanvas.getContext('2d');\n\n    paletteCanvas.width = 256;\n    paletteCanvas.height = 1;\n\n    var gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n    for (var key in gradientConfig) {\n      gradient.addColorStop(key, gradientConfig[key]);\n    }\n\n    paletteCtx.fillStyle = gradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n\n    return paletteCtx.getImageData(0, 0, 256, 1).data;\n  };\n\n  var _getPointTemplate = function(radius, blurFactor) {\n    var tplCanvas = document.createElement('canvas');\n    var tplCtx = tplCanvas.getContext('2d');\n    var x = radius;\n    var y = radius;\n    tplCanvas.width = tplCanvas.height = radius*2;\n\n    if (blurFactor == 1) {\n      tplCtx.beginPath();\n      tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      tplCtx.fillStyle = 'rgba(0,0,0,1)';\n      tplCtx.fill();\n    } else {\n      var gradient = tplCtx.createRadialGradient(x, y, radius*blurFactor, x, y, radius);\n      gradient.addColorStop(0, 'rgba(0,0,0,1)');\n      gradient.addColorStop(1, 'rgba(0,0,0,0)');\n      tplCtx.fillStyle = gradient;\n      tplCtx.fillRect(0, 0, 2*radius, 2*radius);\n    }\n\n\n\n    return tplCanvas;\n  };\n\n  var _prepareData = function(data) {\n    var renderData = [];\n    var min = data.min;\n    var max = data.max;\n    var radi = data.radi;\n    var data = data.data;\n\n    var xValues = Object.keys(data);\n    var xValuesLen = xValues.length;\n\n    while(xValuesLen--) {\n      var xValue = xValues[xValuesLen];\n      var yValues = Object.keys(data[xValue]);\n      var yValuesLen = yValues.length;\n      while(yValuesLen--) {\n        var yValue = yValues[yValuesLen];\n        var value = data[xValue][yValue];\n        var radius = radi[xValue][yValue];\n        renderData.push({\n          x: xValue,\n          y: yValue,\n          value: value,\n          radius: radius\n        });\n      }\n    }\n\n    return {\n      min: min,\n      max: max,\n      data: renderData\n    };\n  };\n\n\n  function Canvas2dRenderer(config) {\n    var container = config.container;\n    var shadowCanvas = this.shadowCanvas = document.createElement('canvas');\n    var canvas = this.canvas = config.canvas || document.createElement('canvas');\n    var renderBoundaries = this._renderBoundaries = [10000, 10000, 0, 0];\n\n    var computed = getComputedStyle(config.container) || {};\n\n    canvas.className = 'heatmap-canvas';\n\n    this._width = canvas.width = shadowCanvas.width = config.width || +(computed.width.replace(/px/,''));\n    this._height = canvas.height = shadowCanvas.height = config.height || +(computed.height.replace(/px/,''));\n\n    this.shadowCtx = shadowCanvas.getContext('2d');\n    this.ctx = canvas.getContext('2d');\n\n    // @TODO:\n    // conditional wrapper\n\n    canvas.style.cssText = shadowCanvas.style.cssText = 'position:absolute;left:0;top:0;';\n\n    container.style.position = 'relative';\n    container.appendChild(canvas);\n\n    this._palette = _getColorPalette(config);\n    this._templates = {};\n\n    this._setStyles(config);\n  };\n\n  Canvas2dRenderer.prototype = {\n    renderPartial: function(data) {\n      if (data.data.length > 0) {\n        this._drawAlpha(data);\n        this._colorize();\n      }\n    },\n    renderAll: function(data) {\n      // reset render boundaries\n      this._clear();\n      if (data.data.length > 0) {\n        this._drawAlpha(_prepareData(data));\n        this._colorize();\n      }\n    },\n    _updateGradient: function(config) {\n      this._palette = _getColorPalette(config);\n    },\n    updateConfig: function(config) {\n      if (config['gradient']) {\n        this._updateGradient(config);\n      }\n      this._setStyles(config);\n    },\n    setDimensions: function(width, height) {\n      this._width = width;\n      this._height = height;\n      this.canvas.width = this.shadowCanvas.width = width;\n      this.canvas.height = this.shadowCanvas.height = height;\n    },\n    _clear: function() {\n      this.shadowCtx.clearRect(0, 0, this._width, this._height);\n      this.ctx.clearRect(0, 0, this._width, this._height);\n    },\n    _setStyles: function(config) {\n      this._blur = (config.blur == 0)?0:(config.blur || config.defaultBlur);\n\n      if (config.backgroundColor) {\n        this.canvas.style.backgroundColor = config.backgroundColor;\n      }\n\n      this._width = this.canvas.width = this.shadowCanvas.width = config.width || this._width;\n      this._height = this.canvas.height = this.shadowCanvas.height = config.height || this._height;\n\n\n      this._opacity = (config.opacity || 0) * 255;\n      this._maxOpacity = (config.maxOpacity || config.defaultMaxOpacity) * 255;\n      this._minOpacity = (config.minOpacity || config.defaultMinOpacity) * 255;\n      this._useGradientOpacity = !!config.useGradientOpacity;\n    },\n    _drawAlpha: function(data) {\n      var min = this._min = data.min;\n      var max = this._max = data.max;\n      var data = data.data || [];\n      var dataLen = data.length;\n      // on a point basis?\n      var blur = 1 - this._blur;\n\n      while(dataLen--) {\n\n        var point = data[dataLen];\n\n        var x = point.x;\n        var y = point.y;\n        var radius = point.radius;\n        // if value is bigger than max\n        // use max as value\n        var value = Math.min(point.value, max);\n        var rectX = x - radius;\n        var rectY = y - radius;\n        var shadowCtx = this.shadowCtx;\n\n\n\n\n        var tpl;\n        if (!this._templates[radius]) {\n          this._templates[radius] = tpl = _getPointTemplate(radius, blur);\n        } else {\n          tpl = this._templates[radius];\n        }\n        // value from minimum / value range\n        // => [0, 1]\n        var templateAlpha = (value-min)/(max-min);\n        // this fixes #176: small values are not visible because globalAlpha < .01 cannot be read from imageData\n        shadowCtx.globalAlpha = templateAlpha < .01 ? .01 : templateAlpha;\n\n        shadowCtx.drawImage(tpl, rectX, rectY);\n\n        // update renderBoundaries\n        if (rectX < this._renderBoundaries[0]) {\n            this._renderBoundaries[0] = rectX;\n          }\n          if (rectY < this._renderBoundaries[1]) {\n            this._renderBoundaries[1] = rectY;\n          }\n          if (rectX + 2*radius > this._renderBoundaries[2]) {\n            this._renderBoundaries[2] = rectX + 2*radius;\n          }\n          if (rectY + 2*radius > this._renderBoundaries[3]) {\n            this._renderBoundaries[3] = rectY + 2*radius;\n          }\n\n      }\n    },\n    _colorize: function() {\n      var x = this._renderBoundaries[0];\n      var y = this._renderBoundaries[1];\n      var width = this._renderBoundaries[2] - x;\n      var height = this._renderBoundaries[3] - y;\n      var maxWidth = this._width;\n      var maxHeight = this._height;\n      var opacity = this._opacity;\n      var maxOpacity = this._maxOpacity;\n      var minOpacity = this._minOpacity;\n      var useGradientOpacity = this._useGradientOpacity;\n\n      if (x < 0) {\n        x = 0;\n      }\n      if (y < 0) {\n        y = 0;\n      }\n      if (x + width > maxWidth) {\n        width = maxWidth - x;\n      }\n      if (y + height > maxHeight) {\n        height = maxHeight - y;\n      }\n\n      var img = this.shadowCtx.getImageData(x, y, width, height);\n      var imgData = img.data;\n      var len = imgData.length;\n      var palette = this._palette;\n\n\n      for (var i = 3; i < len; i+= 4) {\n        var alpha = imgData[i];\n        var offset = alpha * 4;\n\n\n        if (!offset) {\n          continue;\n        }\n\n        var finalAlpha;\n        if (opacity > 0) {\n          finalAlpha = opacity;\n        } else {\n          if (alpha < maxOpacity) {\n            if (alpha < minOpacity) {\n              finalAlpha = minOpacity;\n            } else {\n              finalAlpha = alpha;\n            }\n          } else {\n            finalAlpha = maxOpacity;\n          }\n        }\n\n        imgData[i-3] = palette[offset];\n        imgData[i-2] = palette[offset + 1];\n        imgData[i-1] = palette[offset + 2];\n        imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n\n      }\n\n      img.data = imgData;\n      this.ctx.putImageData(img, x, y);\n\n      this._renderBoundaries = [1000, 1000, 0, 0];\n\n    },\n    getValueAt: function(point) {\n      var value;\n      var shadowCtx = this.shadowCtx;\n      var img = shadowCtx.getImageData(point.x, point.y, 1, 1);\n      var data = img.data[3];\n      var max = this._max;\n      var min = this._min;\n\n      value = (Math.abs(max-min) * (data/255)) >> 0;\n\n      return value;\n    },\n    getDataURL: function() {\n      return this.canvas.toDataURL();\n    }\n  };\n\n\n  return Canvas2dRenderer;\n})();\n\n\nvar Renderer = (function RendererClosure() {\n\n  var rendererFn = false;\n\n  if (HeatmapConfig['defaultRenderer'] === 'canvas2d') {\n    rendererFn = Canvas2dRenderer;\n  }\n\n  return rendererFn;\n})();\n\n\nvar Util = {\n  merge: function() {\n    var merged = {};\n    var argsLen = arguments.length;\n    for (var i = 0; i < argsLen; i++) {\n      var obj = arguments[i]\n      for (var key in obj) {\n        merged[key] = obj[key];\n      }\n    }\n    return merged;\n  }\n};\n// Heatmap Constructor\nvar Heatmap = (function HeatmapClosure() {\n\n  var Coordinator = (function CoordinatorClosure() {\n\n    function Coordinator() {\n      this.cStore = {};\n    };\n\n    Coordinator.prototype = {\n      on: function(evtName, callback, scope) {\n        var cStore = this.cStore;\n\n        if (!cStore[evtName]) {\n          cStore[evtName] = [];\n        }\n        cStore[evtName].push((function(data) {\n            return callback.call(scope, data);\n        }));\n      },\n      emit: function(evtName, data) {\n        var cStore = this.cStore;\n        if (cStore[evtName]) {\n          var len = cStore[evtName].length;\n          for (var i=0; i<len; i++) {\n            var callback = cStore[evtName][i];\n            callback(data);\n          }\n        }\n      }\n    };\n\n    return Coordinator;\n  })();\n\n\n  var _connect = function(scope) {\n    var renderer = scope._renderer;\n    var coordinator = scope._coordinator;\n    var store = scope._store;\n\n    coordinator.on('renderpartial', renderer.renderPartial, renderer);\n    coordinator.on('renderall', renderer.renderAll, renderer);\n    coordinator.on('extremachange', function(data) {\n      scope._config.onExtremaChange &&\n      scope._config.onExtremaChange({\n        min: data.min,\n        max: data.max,\n        gradient: scope._config['gradient'] || scope._config['defaultGradient']\n      });\n    });\n    store.setCoordinator(coordinator);\n  };\n\n\n  function Heatmap() {\n    var config = this._config = Util.merge(HeatmapConfig, arguments[0] || {});\n    this._coordinator = new Coordinator();\n    if (config['plugin']) {\n      var pluginToLoad = config['plugin'];\n      if (!HeatmapConfig.plugins[pluginToLoad]) {\n        throw new Error('Plugin \\''+ pluginToLoad + '\\' not found. Maybe it was not registered.');\n      } else {\n        var plugin = HeatmapConfig.plugins[pluginToLoad];\n        // set plugin renderer and store\n        this._renderer = new plugin.renderer(config);\n        this._store = new plugin.store(config);\n      }\n    } else {\n      this._renderer = new Renderer(config);\n      this._store = new Store(config);\n    }\n    _connect(this);\n  };\n\n  // @TODO:\n  // add API documentation\n  Heatmap.prototype = {\n    addData: function() {\n      this._store.addData.apply(this._store, arguments);\n      return this;\n    },\n    removeData: function() {\n      this._store.removeData && this._store.removeData.apply(this._store, arguments);\n      return this;\n    },\n    setData: function() {\n      this._store.setData.apply(this._store, arguments);\n      return this;\n    },\n    setDataMax: function() {\n      this._store.setDataMax.apply(this._store, arguments);\n      return this;\n    },\n    setDataMin: function() {\n      this._store.setDataMin.apply(this._store, arguments);\n      return this;\n    },\n    configure: function(config) {\n      this._config = Util.merge(this._config, config);\n      this._renderer.updateConfig(this._config);\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    repaint: function() {\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    getData: function() {\n      return this._store.getData();\n    },\n    getDataURL: function() {\n      return this._renderer.getDataURL();\n    },\n    getValueAt: function(point) {\n\n      if (this._store.getValueAt) {\n        return this._store.getValueAt(point);\n      } else  if (this._renderer.getValueAt) {\n        return this._renderer.getValueAt(point);\n      } else {\n        return null;\n      }\n    }\n  };\n\n  return Heatmap;\n\n})();\n\n\n// core\nvar heatmapFactory = {\n  create: function(config) {\n    return new Heatmap(config);\n  },\n  register: function(pluginKey, plugin) {\n    HeatmapConfig.plugins[pluginKey] = plugin;\n  }\n};\n\nreturn heatmapFactory;\n\n\n});"],"sourceRoot":""}